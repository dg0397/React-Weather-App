(this["webpackJsonpjavascript-weather-app"]=this["webpackJsonpjavascript-weather-app"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),i=(n(12),n(13),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Weather App"))});n(14);function o(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}var u=n(1),m=r.a.createContext({});function s(e){var t=e.children,n=Object(a.useState)([]),c=Object(u.a)(n,2),l=c[0],i=c[1],o=Object(a.useState)(!1),s=Object(u.a)(o,2),d=s[0],p=s[1],v=Object(a.useState)("C"),f=Object(u.a)(v,2),E=f[0],h=f[1];return r.a.createElement(m.Provider,{value:{location:l,setLocation:i,loading:d,setLoading:p,temperatureUnit:E,setTemperatureUnit:h}},t)}var d=m;function p(){var e=Object(a.useContext)(d);return{location:e.location,loading:e.loading,temperatureUnit:e.temperatureUnit,setTemperatureUnit:e.setTemperatureUnit}}n(15);function v(e){var t=e.temp,n=e.changeTemperatureFormat,a=e.temperatureUnit,c=function(e){var t=e.target.innerText;n(t)};return r.a.createElement("div",{className:"Temperature"},r.a.createElement("h3",null,"".concat(t," ").concat(a)),r.a.createElement("div",{className:"TemperatureButtons"},r.a.createElement("button",{onClick:c,id:"C"===a?"active":null},"C"),r.a.createElement("button",{onClick:c,id:"F"===a?"active":null},"F")))}n(16);var f=function(e){var t=e.data,n=e.changeTemperatureFormat,a=e.temperatureUnit,c=t.name,l=t.country,i=t.temp,o=t.mainDescription,u=t.icon,m="C"===a?i:(9*i/5+32).toFixed(2);return r.a.createElement("div",{className:"Weather"},r.a.createElement("h2",null,c,", ",l),r.a.createElement(v,{temp:m,changeTemperatureFormat:n,temperatureUnit:a}),r.a.createElement("h3",null,o),r.a.createElement("img",{src:u,alt:o}))};function E(){var e=p(),t=e.location,n=e.setTemperatureUnit,a=e.temperatureUnit;console.log(t);return r.a.createElement(f,{data:t,changeTemperatureFormat:function(e){n(e)},temperatureUnit:a})}var h=n(6);n(17);function g(e){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"C";if("sunrise"===e||"sunset"===e||"dt"===e){var a=new Date(1e3*t),r=a.getHours(),c=a.getMinutes(),l=r>=10?"".concat(r):r>0&&r<10?"0".concat(r):"00",i=c>=10?"".concat(c):c>0&&c<10?"0".concat(c):"00",o="".concat(l," : ").concat(i);return{key:e,value:o}}if("feels_like"===e||"temp_max"===e||"temp_min"===e){return{key:e,value:"C"===n?t?"".concat(t,"\xb0C"):"":t?"".concat((9*t/5+32).toFixed(2),"\xb0F"):""}}if("humidity"===e){var u="".concat(t," %");return{key:e,value:u}}if("visibility"===e){var m="".concat(t/1e3," mi");return{key:e,value:m}}if("deg"===e){var s="".concat(t,"\xb0");return{key:"wind_deg",value:s}}return"speed"===e?{key:"wind_speed",value:t}:{key:e,value:t}}(e.detail,e.valueKey,e.temperatureUnit),n=t.key,a=t.value,c=n.replace("_"," ").toUpperCase();return r.a.createElement("div",{className:"Single_Detail"},r.a.createElement("p",null,c),r.a.createElement("h4",null,a||"-"))}n(18);function b(e){var t=e.data,n=e.temperatureUnit,a=e.name,c=Object(h.a)({},t),l=Object.keys(c);return console.log(c),r.a.createElement("div",{className:"WeatherDetails"},r.a.createElement("h2",null,a),r.a.createElement("div",{className:"Single_Details"},l.map((function(e){return r.a.createElement(g,{key:e,detail:e,valueKey:c[e],temperatureUnit:n})}))))}function y(){var e=p(),t=e.location.detailData,n=e.location.name,a=e.temperatureUnit;return console.log(t),r.a.createElement(b,{data:t,temperatureUnit:a,name:n})}function k(e,t,n,a){a(!0),fetch("https://fcc-weather-api.glitch.me/api/current?lat=".concat(e,"&lon=").concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.coord,r=e.name,c=e.sys,l=e.weather,i=e.main,o=e.visibility,u=e.wind,m=e.dt,s=l[0],d=s.main,p=s.icon,v=c.sunrise,f=c.sunset,E={coord:t,name:r,country:c.country,mainDescription:d,temp:i.temp,icon:p,detailData:{sunrise:v,sunset:f,feels_like:i.feels_like,humidity:i.humidity,temp_max:i.temp_max,temp_min:i.temp_min,visibility:o,deg:u.deg,speed:u.speed,lon:t.lon,lat:t.lat,dt:m}};console.log(e),n(E),a(!1)}))}function U(){var e=Object(a.useContext)(d),t=e.location,n=e.setLocation,r=e.loading,c=e.setLoading;return Object(a.useEffect)((function(){!function(e,t,n){if(!navigator.geolocation)return"Geolocation is not supported by this browser.";navigator.geolocation.getCurrentPosition((function(a){var r=a.coords,c=r.latitude,l=r.longitude;e(c,l,t,n)}))}(k,n,c)}),[n,c]),{location:t,loading:r}}var w=n(2),C=(n(19),function(){var e=Object(w.c)(),t=Object(u.a)(e,1)[0],n={backgroundColor:"#57acd6"};return r.a.createElement("div",{className:"Buttons"},r.a.createElement(w.a,{to:"/"},r.a.createElement("p",{style:"/"===t?n:null},"Current Weather")),r.a.createElement(w.a,{to:"/detail"},r.a.createElement("p",{style:"/detail"===t?n:null},"Detail Weather")))}),j=(n(20),function(){var e=U().loading;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(o,null):r.a.createElement("div",{className:"Main"},r.a.createElement(C,null),r.a.createElement(w.b,{path:"/",component:E}),r.a.createElement(w.b,{path:"/detail",component:y})))}),_=(n(21),function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Coded by ",r.a.createElement("a",{href:"https://github.com/dg0397",target:"_blank",rel:"noopener noreferrer"},"DG0397")))});var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(s,null,r.a.createElement(j,null)),r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.72a96b0f.chunk.js.map